(this["webpackJsonpslack-clone"]=this["webpackJsonpslack-clone"]||[]).push([[0],{66:function(e,a,t){e.exports=t(95)},71:function(e,a,t){},72:function(e,a,t){},73:function(e,a,t){},78:function(e,a,t){},79:function(e,a,t){},91:function(e,a,t){},92:function(e,a,t){},93:function(e,a,t){},94:function(e,a,t){},95:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),c=t(24),r=t.n(c),o=(t(71),t(13)),s=(t(72),t(73),t(109)),i=t(47),m=t.n(i),u=t(48),d=t.n(u),E=t(49),p=t.n(E),h=Object(n.createContext)(),v=function(e){var a=e.reducer,t=e.initialState,c=e.children;return l.a.createElement(h.Provider,{value:Object(n.useReducer)(a,t)},c)},g=function(){return Object(n.useContext)(h)};var f=function(){var e=g(),a=Object(o.a)(e,1)[0].user;return l.a.createElement("div",{className:"header"},l.a.createElement("div",{className:"header__left"},l.a.createElement(s.a,{className:"header__avatar",alt:null===a||void 0===a?void 0:a.displayName,src:null===a||void 0===a?void 0:a.photoURL}),l.a.createElement(m.a,null)),l.a.createElement("div",{className:"header__center"},l.a.createElement(d.a,null),l.a.createElement("input",{type:"text ",placeholder:"Search Web Developers"})),l.a.createElement("div",{className:"header__right"},l.a.createElement(p.a,null)))},_=(t(78),t(50)),b=t.n(_),N=t(51),O=t.n(N),I=(t(79),t(4)),j=t(26),S=t.n(j),w=S.a.initializeApp({apiKey:"AIzaSyC7zilkJsiAPg3XC_TZTsZeajbskT_PBsw",authDomain:"slack-clone-da499.firebaseapp.com",databaseURL:"https://slack-clone-da499.firebaseio.com",projectId:"slack-clone-da499",storageBucket:"slack-clone-da499.appspot.com",messagingSenderId:"535021505200",appId:"1:535021505200:web:b9af8c4f2afb12abd00975",measurementId:"G-9K0N5MDGWF"}).firestore(),k=S.a.auth(),y=new S.a.auth.GoogleAuthProvider,C=w;var D=function(e){var a=e.Icon,t=e.title,n=e.addChannelOption,c=e.id,r=Object(I.f)();return l.a.createElement("div",{className:"sideBarOption",onClick:n?function(){var e=prompt("Please enter the name of the channel");e&&C.collection("rooms").add({name:e})}:function(){c?r.push("/room/".concat(c)):r.push(t)}},a&&l.a.createElement(a,{className:"sideBarOption__icon"}),a?l.a.createElement("h3",null,t):l.a.createElement("h3",{className:"sideBarOption__channel"},l.a.createElement("span",{className:"sideBarOption__hash"}," # ")," ",t))},B=t(52),L=t.n(B),T=t(53),W=t.n(T),A=t(54),P=t.n(A),R=t(55),x=t.n(R),M=t(56),G=t.n(M),U=t(57),z=t.n(U),F=t(58),J=t.n(F),K=t(59),Z=t.n(K),V=t(60),X=t.n(V),$=t(61),q=t.n($);var H=function(){var e=Object(n.useState)([]),a=Object(o.a)(e,2),t=a[0],c=a[1],r=g(),s=Object(o.a)(r,1)[0].user;return Object(n.useEffect)((function(){C.collection("rooms").onSnapshot((function(e){return c(e.docs.map((function(e){return{id:e.id,name:e.data().name}})))}))}),[]),l.a.createElement("div",{className:"sideBar"},l.a.createElement("div",{className:"sideBar__header"},l.a.createElement("div",{className:"sideBar__info"},l.a.createElement("h2",null,"Web Developers"),l.a.createElement("h3",null,l.a.createElement(b.a,null),null===s||void 0===s?void 0:s.displayName)),l.a.createElement(O.a,null)),l.a.createElement(D,{Icon:L.a,title:"Threads"}),l.a.createElement(D,{Icon:W.a,title:"Mentions & Reactions"}),l.a.createElement(D,{Icon:P.a,title:"Saved items"}),l.a.createElement(D,{Icon:x.a,title:"Channel browser"}),l.a.createElement(D,{Icon:G.a,title:"People & user groups"}),l.a.createElement(D,{Icon:z.a,title:"Apps"}),l.a.createElement(D,{Icon:J.a,title:"File browser"}),l.a.createElement(D,{Icon:Z.a,title:"Show less"}),l.a.createElement("hr",null),l.a.createElement(D,{Icon:X.a,title:"Channels"}),l.a.createElement("hr",null),l.a.createElement(D,{Icon:q.a,addChannelOption:!0,title:"Add Channel"}),t.map((function(e){return l.a.createElement(D,{title:e.name,id:e.id})})))},Q=t(32),Y=(t(91),t(62)),ee=t.n(Y),ae=t(63),te=t.n(ae);t(92);var ne=function(e){var a=e.message,t=e.timestamp,n=e.user,c=e.userImage;return l.a.createElement("div",{className:"message"},l.a.createElement("img",{src:c,alt:"user-img"}),l.a.createElement("div",{className:"message__info"},l.a.createElement("h4",null,n,l.a.createElement("span",{className:"message__timestamp"},new Date(null===t||void 0===t?void 0:t.toDate()).toString())),l.a.createElement("p",null,a)))},le=t(108);t(93);var ce=function(e){var a=e.channelName,t=e.channelID,c=Object(n.useState)(""),r=Object(o.a)(c,2),s=r[0],i=r[1],m=g(),u=Object(o.a)(m,1)[0].user;return l.a.createElement("div",{className:"chatInput"},l.a.createElement("form",null,l.a.createElement("input",{type:"text",value:s,onChange:function(e){return i(e.target.value)},placeholder:"Message #".concat(null===a||void 0===a?void 0:a.toLowerCase())}),l.a.createElement(le.a,{onClick:function(e){e.preventDefault(),t&&C.collection("rooms").doc(t).collection("messages").add({message:s,timestamp:S.a.firestore.FieldValue.serverTimestamp(),user:u.displayName,userImage:u.photoURL}),i("")},type:"submit"},"SEND")))};var re=function(){var e=Object(I.g)().roomID,a=Object(n.useState)(null),t=Object(o.a)(a,2),c=t[0],r=t[1],s=Object(n.useState)([]),i=Object(o.a)(s,2),m=i[0],u=i[1];return Object(n.useEffect)((function(){e&&(C.collection("rooms").doc(e).onSnapshot((function(e){return r(e.data())})),C.collection("rooms").doc(e).collection("messages").orderBy("timestamp","asc").onSnapshot((function(e){return u(e.docs.map((function(e){return e.data()})))})))}),[e]),l.a.createElement("div",{className:"chat"},l.a.createElement("div",{className:"chat__header"},l.a.createElement("div",{className:"chat__headerLeft"},l.a.createElement("h4",{className:"chat__channelName"},l.a.createElement("strong",null,"# ",null===c||void 0===c?void 0:c.name),l.a.createElement(ee.a,null))),l.a.createElement("div",{className:"chat__headerRight"},l.a.createElement("p",null,l.a.createElement(te.a,null)," Details"))),l.a.createElement("div",{className:"chat__message"},m.map((function(e){var a=e.message,t=e.timestamp,n=e.user,c=e.userImage;return l.a.createElement(ne,{message:a,timestamp:t,user:n,userImage:c})}))),l.a.createElement(ce,{channelName:null===c||void 0===c?void 0:c.name,channelID:e}))},oe=(t(94),t(37)),se="SET_USER",ie=function(e,a){switch(console.log(a),a.type){case se:return Object(oe.a)(Object(oe.a)({},e),{},{user:a.user});default:return e}};var me=function(){var e=g(),a=Object(o.a)(e,2),t=(a[0],a[1]);return l.a.createElement("div",{className:"login"},l.a.createElement("div",{className:"login__container"},l.a.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b9/Slack_Technologies_Logo.svg/1280px-Slack_Technologies_Logo.svg.png",alt:"logo"}),l.a.createElement("h1",null,l.a.createElement("span",{className:"login__red"},"Sign "),l.a.createElement("span",{className:"login__blue"},"into "),l.a.createElement("span",{className:"login__yellow"},"Web"),l.a.createElement("span",{className:"login__green"},"Developer")),l.a.createElement("p",null,"webdeveloper.slack.com"),l.a.createElement(le.a,{onClick:function(){k.signInWithPopup(y).then((function(e){console.log(e),t({type:se,user:e.user})})).catch((function(e){console.log(e.message),alert("Error occurred, please refresh the page")}))}},"Sign in with Google")))};var ue=function(){var e=g(),a=Object(o.a)(e,1)[0].user;return l.a.createElement("div",{className:"app"},l.a.createElement(Q.a,null,a?l.a.createElement("div",null,l.a.createElement(f,null),l.a.createElement("div",{className:"app__body"},l.a.createElement(H,null),l.a.createElement(I.c,null,l.a.createElement(I.a,{path:"/room/:roomID"},l.a.createElement(re,null)),l.a.createElement(I.a,{path:"/"},l.a.createElement("div",{className:"app__welcomeMsg"},l.a.createElement("div",null,"WELCOME TO SLACK"),l.a.createElement("div",null,a.displayName," !"),l.a.createElement("div",null,"\ud83d\ude00")))))):l.a.createElement(me,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(v,{initialState:{user:null},reducer:ie},l.a.createElement(ue,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[66,1,2]]]);
//# sourceMappingURL=main.256ee078.chunk.js.map